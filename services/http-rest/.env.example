# =============================================================================
# HTTP REST Service Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment

# =============================================================================
# HTTP Server Configuration
# =============================================================================

# Server binding address
HTTP_HOST=0.0.0.0
HTTP_PORT=8084

# Service name for logging and monitoring
SERVICE_NAME=http-rest

# =============================================================================
# External Service URLs
# =============================================================================

# Database service endpoint
DB_SERVICE_URL=http://localhost:8081
DB_SERVICE_TIMEOUT=10s

# Kafka producer service endpoint
KAFKA_SERVICE_URL=http://localhost:8082
KAFKA_SERVICE_TIMEOUT=5s

# gRPC client service endpoint (gRPC service HTTP interface)
GRPC_CLIENT_URL=http://localhost:8083
GRPC_CLIENT_TIMEOUT=10s

# External API for testing
EXTERNAL_API_URL=https://jsonplaceholder.typicode.com

# =============================================================================
# TLS/Security Configuration
# =============================================================================

# Enable HTTPS
TLS_ENABLED=false

# TLS certificate file
TLS_CERT_FILE=/path/to/server.crt

# TLS private key file
TLS_KEY_FILE=/path/to/server.key

# =============================================================================
# CORS Configuration
# =============================================================================

# Enable CORS
CORS_ENABLED=true

# Allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=*

# Allowed methods (comma-separated)
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed headers (comma-separated)
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Allow credentials
CORS_ALLOW_CREDENTIALS=false

# Max age for preflight requests
CORS_MAX_AGE=86400

# =============================================================================
# Rate Limiting Configuration
# =============================================================================

# Enable rate limiting
RATE_LIMIT_ENABLED=false

# Requests per minute
RATE_LIMIT_RPM=1000

# Burst size
RATE_LIMIT_BURST=100

# Rate limit by IP
RATE_LIMIT_BY_IP=true

# =============================================================================
# Authentication Configuration
# =============================================================================

# Enable API key authentication
API_AUTH_ENABLED=false

# API key header name
API_KEY_HEADER=X-API-Key

# Valid API keys (comma-separated)
API_KEYS=your-api-key-1,your-api-key-2

# JWT authentication
JWT_ENABLED=false
JWT_SECRET=your-jwt-secret-key
JWT_EXPIRY=24h

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Log format (json, text)
LOG_FORMAT=text

# Log output (stdout, stderr, file)
LOG_OUTPUT=stdout

# Log file path (if LOG_OUTPUT=file)
LOG_FILE=logs/http-rest.log

# Enable request logging
REQUEST_LOGGING=true

# Log request body (be careful with sensitive data)
LOG_REQUEST_BODY=false

# Log response body
LOG_RESPONSE_BODY=false

# =============================================================================
# Health Check Configuration
# =============================================================================

# Health check endpoint
HEALTH_ENDPOINT=/health

# Health check timeout
HEALTH_CHECK_TIMEOUT=5s

# Check external services in health check
HEALTH_CHECK_EXTERNAL=true

# =============================================================================
# Monitoring Configuration
# =============================================================================

# Enable metrics collection
METRICS_ENABLED=true

# Metrics endpoint
METRICS_ENDPOINT=/metrics

# Metrics port (separate port for metrics)
METRICS_PORT=9093

# Enable tracing
TRACING_ENABLED=false

# Tracing endpoint
TRACING_ENDPOINT=http://localhost:14268/api/traces

# =============================================================================
# Timeout Configuration
# =============================================================================

# HTTP server read timeout
READ_TIMEOUT=30s

# HTTP server write timeout
WRITE_TIMEOUT=30s

# HTTP server idle timeout
IDLE_TIMEOUT=120s

# HTTP client timeout for external calls
CLIENT_TIMEOUT=30s

# =============================================================================
# Cache Configuration
# =============================================================================

# Enable response caching
CACHE_ENABLED=false

# Cache TTL
CACHE_TTL=300s

# Cache size (number of entries)
CACHE_SIZE=1000

# =============================================================================
# Books API Configuration
# =============================================================================

# Maximum books per page
MAX_BOOKS_PER_PAGE=100

# Default page size
DEFAULT_PAGE_SIZE=20

# Enable book search
SEARCH_ENABLED=true

# Search timeout
SEARCH_TIMEOUT=5s

# =============================================================================
# Development Configuration
# =============================================================================

# Development mode
DEV_MODE=true

# Enable debug logging
DEBUG=false

# Enable hot reload
HOT_RELOAD=false

# Enable API documentation
API_DOCS_ENABLED=true

# API documentation endpoint
API_DOCS_ENDPOINT=/docs

# =============================================================================
# Production Configuration
# =============================================================================

# Production server settings
# PROD_HTTP_HOST=0.0.0.0
# PROD_HTTP_PORT=8084
# PROD_TLS_ENABLED=true

# Production external service URLs
# PROD_DB_SERVICE_URL=http://db-service:8081
# PROD_KAFKA_SERVICE_URL=http://kafka-service:8082
# PROD_GRPC_CLIENT_URL=http://grpc-client:8083

# Production timeouts
# PROD_READ_TIMEOUT=10s
# PROD_WRITE_TIMEOUT=10s
# PROD_CLIENT_TIMEOUT=5s

# =============================================================================
# Load Balancer Configuration
# =============================================================================

# Trust proxy headers
TRUST_PROXY=false

# Proxy headers to trust
TRUSTED_PROXIES=127.0.0.1,::1

# Real IP header
REAL_IP_HEADER=X-Real-IP

# =============================================================================
# Testing Configuration
# =============================================================================

# Test server address
TEST_SERVER_URL=http://localhost:8084

# Test timeout
TEST_TIMEOUT=30s

# Enable test endpoints
TEST_ENDPOINTS_ENABLED=false

# =============================================================================
# Notes
# =============================================================================
# 1. Copy this file to .env and customize values
# 2. For production, enable TLS and proper authentication
# 3. Configure rate limiting to prevent abuse
# 4. Use strong JWT secrets in production
# 5. Enable monitoring and logging for production deployments
# 6. Test all external service integrations before deployment
